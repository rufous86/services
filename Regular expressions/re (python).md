# Объект Match

В следующих четырёх функциях из модуля `re` используется объект `Match`. Он нужен чтобы получать более детальную информацию о найденных совпадениях. 

У объекта `Match` есть несколько интересных методов и атрибутов:

- `expand()`
- `group()`
- `groups()`
- `groupdict()`
- `start()`
- `end()`
- `span()`
- `lastindex`
- `lastgroup`
- `pos`
- `endpos`
- `re`
- `string`

Сейчас нам понадобятся только синие методы и атрибуты. Оставшиеся будут разобраны в следующем модуле.

## Нулевая группа

Почти все методы принимают на вход необязательный аргумент `__group`. Этот аргумент - номер группы, у которой нужно получить соответствующее значение.

С группами мы будем работать позже, поэтому **пока будем вызывать методы без аргументов или с аргументом 0**.

Нулевая группа - полная строка, которую захватило регулярное выражение.

В этом модуле не нужно работать с группами, заменяйте их на non-capturing group.

## Методы

Давайте напишем какой-то простой код, чтобы можно было разбирать методы на примерах:

```python
import re

regex = r'П.+?т'
text = 'Привет, как тебя зовут?'

# Не обращайте внимание на эту функцию, мы её разберём уже на следующем уроке
# Всё, что нужно о ней знать это то, что в результате своей работы она возвращает Match-объект
# В данном случае мы записываем Match-объект в переменную match

match = re.match(regex, text) 
```

 Если вывести его через `print`, то он будет выглядеть примерно так:

```
<re.Match object; span=(0, 6), match='Привет'>
```

Где `span` - индексы начала и конца совпадения, а `match` - само совпадение.

 

### `group([*group1*, *...*])`

Возвращает найденное совпадение по номеру группы.

```python
print(match.group())  # Если в метод не передать аргумент, то он по умолчанию выведет нулевую группу
print(match.group(0)) # Можно передать номер нужной группы в метод
print(match[0])       # Благодаря геттеру в Match-объекте к группам можно обращаться с помощью квадратных скобок

# Все вызовы сверху выведут совпадение нулевой группы, т.е. всего регулярного выражения
# В данном случае они выведут строку "Привет"
```

 

### `start(__group=0)`, `end(__group=0)`

Методы `start` и `end` возвращают индексы начала и конца совпадения с регулярным выражением группы, номер которой был передан в метод:

```python
print(match.start())  # 0
print(match.end())    # 6
print(match.start(0)) # 0
print(match.end(0))   # 6
```

 

### `span(__group=0)`

Метод `span` возвращает кортеж с индексом начала и конца совпадения группы, номер которой был передан в метод. Он работает аналогично методам `start`, `end`, но возвращает пару чисел:

```python
print(match.span())  # (0, 6)
print(match.span(0)) # (0, 6)
```



## Атрибуты

### `pos`

⚠️ Используется вместе с объектом `Pattern`

Если обратиться к атрибуту, то можно получить аргумент `pos`, переданный в функцию. `pos` - это позиция, с которой функция начинает искать совпадения.

`pos` можно использовать только с объектом `Pattern`. В коде выше `Pattern` не используется, поэтому у `pos` стоит значение по умолчанию 0:

```python
print(match.pos) # 0
```

 

### `endpos`

⚠️ Используется вместе с объектом `Pattern`

Если обратиться к атрибуту, то можно получить аргумент `endpos`, переданный в функцию. `endpos` - это позиция, до которой функция ищет совпадения.

`endpos` можно использовать только с объектом `Pattern`. В коде выше `Pattern` не используется, поэтому у `endpos` стоит значение по умолчанию: индекс последнего символа в строке.

```python
print(match.endpos) # 23
```

 

### `re`

Если обратиться к атрибуту, то можно получить регулярное выражение, которое использовалось для поиска:

```python
print(match.re) # re.compile('П.+?т')
```

Правда возвращается не строка с регулярным выражением, а объект `Pattern`, который мы разберём чуть позже.

 

### `string`

Если обратиться к атрибуту, то можно получить строку, в которой искались совпадения:

```python
print(match.string) # Привет, как тебя зовут?
```

# `re.search()`

`re.search(pattern, string, flags=0)` - ищет первое совпадение в строке

### Параметры:

- `pattern` - регулярное выражение
- `string` - строка, к которой нужно применить регулярное выражение
- `flags` - флаги, пройдём позже

### Возвращаемое значение:

- Объект `Match`, если совпадение было найдено
- `None`, если нету совпадений

### Примеры использования:

Поиск первой последовательности из трёх чисел в строке:

```python
import re


pattern = r'\d{3}'
string = 'abc 123 def 456 fed 321 cba'
# Ищет только одно вхождение, самое первое
result = re.search(pattern, string)

print(result) # <re.Match object; span=(4, 7), match='123'>
```

Если в строке ничего не будет найдено, то функция вернёт `None`:

```python
import re


result = re.search(r'\d{3}', "abcdef")

print(result) # None
```